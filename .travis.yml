env:
  global:
  - secure: SbfL9b5G/qWUQ9pk9r+BvU2bfghb4uCofC+sdEU9d9G9Kb+OMYMAucrqJzye2pgHD9lehBrYbo1WckkDU8l7VNNa7J6pJgPRnmgb3yj8cdfh+l5XD+58FxW646eXFgdK7VCTmr8B9Y4E9Tov36B65r4ssRz7AHFJceINRK4ukuLCK0/nR95R9XH59x8nh6qD0wKnhnaMYMZilvJW4ns4qjNVcCsfJBYacNpTjhMeXnxg0/XrLCQdZTbmn9tNpLmsG0imsgg8o2DLo7nxOi2uSKAC9NChjl7cyoDKDWgeSDIv187Rg5wH2xfB0jzHraYc3ZFS/w6zcQmYKzTSQ5a5xc7FKKJoRqinttaPBNb8MuTR59CiWn9Kya/8nI+OjndWI3mHkK6p1N5zkN25E5ge2Jh2ocJdopfh+XURw+i1OEVor/QDGXXWZNcwW2An9/iXLPACL5MdFTF/2e4H1awNhFuUeIKDSd8FWuOQv5MO5t9sU1czHgS4hL/lvmz7iCUvjVbacj7Byja7MjNEbrWy7EVH7dmSG93ONwwQO0J7NWrIZlV1+OT1ca+tG2O2DI78tmL2ol7rIcIm6vG678HAwPalgxiEYcVmWCcXjoDowC9U4RzglwvejnwiK5MqX0d8URsg1+Dxt8GLYWEbqk61mjkfNlxvYT3M0VEBJRwzr7I=
  - secure: nU2/iHLUP9WI9yl58J+FjcIKnCpu2G4w1dMsR2i9uJmYBCFYkxdglG7l2OZNWUtb9Na6jf6MTh9cstwmd9W3voZgS7V0OSeDnhWh+gFeP0YHNNqE/JWfP/MWiwsU25z/08sWZ8lqKc9DcpkXHxcXYbj/VSo3U82M0i61I+0YCA8LcLvWIAj3q9/jiWf0VjDBOsPqKsYAaJiVLq0tbUlgSTOmbfuCqcDGeF1+xNmS88ZN0x9dAuJcKRVohhRd2wJM2vUlKXSwqskNPmhTVpz2Xfj+YDkjOxlA6av6AxYpHxtJezYhm8L0teZjzwSm7wch1FpyBkdS+k57b02KZ5lgT2CIy5fFk50l7wnw8dZz1sf24hOjGpMDxH2imTF1jGUTiDs8GUAfH4VoI28C3C9f1dZTbkZzOCz3gN9r8FbFNiJt64BhhuT+RhY0p2iIn5zV9eC7NgAAIjzUtycbc35qsa9idxxSABJxA0TAZwoshJx4DRaLjQT5KTe+uACveWqkNBSpI5x3jAQ4FS0llIxzgSdQq3K2qFqIR9HFIg4Sz1C5amEQTu11fzIgvUVRhOXmPka22+aG1vc/Zy2K/0wZYGkRm1QCCBuk929kgN9PX7ws/N8WF5vVdQXja/HjIVG4aeeTA2nqau7yFs9pUFc2kXeqTqzIrUY8U5leUQEIc+g=
  - secure: h3+CqpQNj0bbRvT9Qepkf1eBhGTJshjnFPN5pPo4a6vXwt0aYVkxPxKHs/tRbRG8Z9jM8I4+yuuKzps3JKv+9YlghBAQB01uFjb9/VtPqgVo+S7SVVHp/baWd0vPZxx4jjIhC8MjojJsgrKsK+k9UnVkmA8kM8N6qcIA1n1+jy4QJ7kIGq7Cgd5/6+n3b60bkNna65oEkEe6ssyy87mR2lGyX5o+v10XvvuY9/bW81I3OgXCy9XkJl0qXQZn5xfCCZ9h8uLze94xDPTFgxw6EZ6QsXZ7UlBBjn78dv508zKIKWJUljbtXhyjJ117pBba/AYpuyfEIJl26tT1B5c3XRkuXh7aQBVsxDd6DZaAFB6cxHbZVap0Q/CzyMXFzMvEz2++OWHSKTvyRGjSGBCT4ERaYxfQvtoq2c3hXv899xlSty35OCn6grdp5cJOK8csQEkaz9LNWzoFPh3O4FZ7DkwXZ151sRlD3u8WYdtMfOMRehwDN11kx03IF9JVVT+6H+H7MGopYosyJrzTMXKfH2rjwQ4cgHi+JvCKkIHxIVREmbGkyUiwnbKG1vSfVk1/y9VfPY3zTqnc35pXg9HSYbvz/BHZl5fB+p6A8oOva+/MSEtIdIjZ+wLrffFFgHsSoNhuCNPxZpRQwt9ohwg9P9uXW6rqh4H53IeOutJSJuU=
  - secure: odXrx64por3nMJZBeT5ieTRhnDHY02ugeRO4JVKoe7/S+Moz9r++wlccdHQTkUL7WinVqOPdPpYAhwkzmYpOzKHUeE8I42PkuwOqNgqxIZrvtDRc3xlLJGNPW4bjP3z8tlT14Aje20Vi8oU1IqQnZamFbIEiHPB8zXkM0ksTilBfaRCoNduP9RvJvsIutevgS9BBNmHREWb7rL8K1tD9M5Ye/0+ugVuRqvVDXcRvsNwBc0AiW1nLqGoa1Q3Ivnun8uL030LjTxJtO7nYLBPvwK606KiyeoKzoo5FCA3jdWP1e0aTrlBGbi6ywiKUN4lsCFCnL4+t3J1ldYY65cPtSM6yUIRFo8J4jR8PKBTobbFl/Q74DMF2G8v6zSFRxv545nUe/k4j8Ec6ds6EwInmhoMCu71zyWWG0CZ1ncw21tBLJEB77PRK2bqvjqUFiXV3xq3K6ypk3KdbH0BnoW2MFVqwWqiWxgojZ0wOK1RHfDbgOszSTZ4Ut/jiSv19cYyaNCAPyz3Y7V+MoAHEglGYxGJe0M+6HoXK3EyFKAU20wFzUpwLfmv+tZLuhYOcux1JNWrgKueuPZtsYOJmHLdLvIa6RIKADs6OWu8iUSj6nmt0W18v4rwozLHckgBemUxGqc/PDWbxidDh5gJ5tHarYM4prcTivwUzIFhbozjVOwg=
  - secure: Eb1lXrRipf4f61F9fbN0tRts5aO0uIATEkroGV5k7AyzjZxQ9p8apuKBURhDbLjyyFYstxBP0X1fHPtipMuOeK5kMvzti4kTRPJ6zVzCKYTAoQWE4MZqJ2HHS0hPvYCGDvQbvrV2Hg5Gotbn6DYk2GYgjpWCWUJXOGHcafPiLD1MhVlUOFGx1dz2gfOVD3hGcmWhPxIC7Vk20jnMCkZWWrciD1JMj8JFiWALKlizJJGc1hrGOYUIfImurq3YEViFGMwP/EQKre7zlpWH+QaIm13izio9zkQScAqmElLQ1bc2EF3A1N+kY+x/20mJ2tpTsuLhRlt1aS/VIezbrkYt55pQoKlmrIAxwgT5hHvK4EU8caiwQ9gPEVz3G7Jc5GUKpXeM7Gznibn7szhOac21XY6zxonNTbPYDzt0Jj9cArt+eWnDuoYdYEMq4IrE461Zn5XLxN+elcBg1bkTeHhHUTU+Q6sl1uTxzXlJ+hCVQJgsPGITqg4fV9/gZYpeWEcXHfbNl0/80KWnJB+Nl5/Y3ZM2g/tzyXDfcRTJWGjFaCdG/KHDMllvSkACLkRcqQRdmvxQSiIXTyx+XwkPZQv6rBk9ZhxB49UMAD3+OvEAymNtJN0PzLmfeaddfwVpHWPObjCk9l2LIUTmqIHmdUDyXWnkqDVBzMLnBAbyyCyOvEk=
services:
- docker
before_install:
- openssl aes-256-cbc -K $encrypted_ccacfce999a8_key -iv $encrypted_ccacfce999a8_iv
  -in config.json.enc -out config.json -d
- pip install --user awscli
- export PATH=$PATH:$HOME/.local/bin
script:
- eval $(aws ecr get-login --region eu-west-1)
- docker build
- docker tag taco-bot:latest 869640726279.dkr.ecr.us-west-2.amazonaws.com/taco-bot:latest
- docker push 869640726279.dkr.ecr.us-west-2.amazonaws.com/taco-bot:latest
